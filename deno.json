{
	"tasks": {
		"dev:setup": "docker-compose up -d",
		"dev:teardown": "docker-compose down",

		"pg:sh": "docker-compose exec -it postgres psql --username postgres",

		"build": "deno run --check --allow-read --allow-write --allow-run engine/build/index.ts",

		"migrate": "deno task migrate:generate && deno task migrate:run",
		"migrate:generate": "deno run --check --allow-net --allow-read --allow-write --allow-env --allow-run engine/migrate/generate.ts",
		"migrate:run": "deno run --check --allow-net --allow-read --allow-write --allow-env --allow-run engine/migrate/run.ts",

		"entrypoint": "deno run --check --allow-env --allow-net --unstable-temporal dist/entrypoint.ts",
		"entrypoint:watch": "deno run --check --watch --allow-env --allow-net --unstable-temporal dist/entrypoint.ts",

		"start": "deno fmt && deno task build && deno task migrate && deno lint && deno task entrypoint",
		"start:watch": "deno fmt && deno task build && deno task migrate && deno lint && deno task entrypoint:watch",

		"test": "deno task build && deno task migrate && deno task test:fast",
		"test:fast": "deno test --check --allow-env --allow-net --unstable-temporal",
		"test:all": "deno task build && deno task migrate && deno task test:all:fast",
		"test:all:fast": "deno test --check --allow-env --allow-net --unstable-temporal modules/*/tests/*.ts",

		"sdk:gen": "deno run --check --allow-read --allow-run engine/sdk_gen/index.ts",

		"create:module": "deno run --check --allow-read --allow-write engine/template/module.ts",
		"create:script": "deno run --check --allow-read --allow-write engine/template/script.ts",
		"create:migration": "deno run --check --allow-read --allow-write engine/template/migration.ts"
	},
	"imports": {
		"@ogs/runtime": "./engine/runtime/mod.ts",
		"@ogs/types": "./engine/types/mod.ts",
		"@ogs/helpers/": "./dist/helpers/",
		"@faker-js/faker": "npm:@faker-js/faker@^8.4.1",
		"std/": "https://deno.land/std@0.208.0/",
		"postgres/": "https://deno.land/x/postgres@v0.17.2/",
		"glob": "npm:glob@^10.3.10",
		"typescript-json-schema": "npm:typescript-json-schema@^0.62.0",
		"ajv": "npm:ajv@^8.12.0",
		"ajv-formats": "npm:ajv-formats@^2.1.1",
		"drizzle-orm": "npm:drizzle-orm@^0.29.3",
		"drizzle-orm/pg-core": "npm:drizzle-orm@^0.29.3/pg-core",
		"drizzle-orm/node-postgres": "npm:drizzle-orm@^0.29.3/node-postgres",
		"drizzle-orm/node-postgres/migrator": "npm:drizzle-orm@^0.29.3/node-postgres/migrator",
		"pg": "npm:pg@^8.11.3"
	},
	"lint": {
		"include": ["engine/", "modules/"],
		"exclude": ["modules/*/tests/*.ts"],
		"rules": {
			"exclude": ["no-empty-interface", "no-explicit-any", "require-await"]
		}
	},
	"fmt": {
		"useTabs": true
	}
}
